//DATALAYER
<head>

<script>

window.dataLayer = window.dataLayer || []; //Creating the dataLayer object

dataLayer.push({

//Page details
'pageName': {{pageName}}, //Dynamic page name (epc-onboarding-web.JoinRootPageController.getJoinRoot)
'applicationName': {{applicationName}}, //Application name (epc-onboarding-web)
'applicationEnvironment': {{applicationEnvironment}}, //environment name
'locale': {{locale}}, //locale

//Country and City not available
'country': {{country}}, //Based on IP
'city': {{city}}, //Based on IP


//Form data inserted by users
'selectedLanguage': {{selectedLanguage}}, //selected language in the form
'numOfProperties': {{numOfProperties}}, //number of properties with different addresses in the form
'email': {{valid}}, //boolean populate if valid email collected
'phoneCountryCode': {{phoneCountryCode}}, //phone country code collected
'phone': {{valid}}, //boolean populate if valid phone number collected
'companyName': {{companyName}}, //company name if available
'propertyName': {{propertyName}}, //property name form
'propertyAddress': {{propertyAddress}}, //concatenation of Address 1 and Address 2 form
'propertyCity': {{propertyCity}}, //property city form
'propertyZip': {{propertyZip}}, //property zip form
'propertyCountryRegion': {{propertyCountryRegion}}, //property country-region form
'propertyStateProvince': {{propertyStateProvince}}, //property state-province if available form
'propertyType': {{propertyType}}, //property type form
'propertyWebsite': {{propertyWebsite}}, //property website form
'propertyRooms': {{propertyRooms}}, //property number of rooms form
'propertyChannelManager': {{propertyChannelManager}}, //yes-no channel manager
'propertyChain': {{propertyChain}}, //yes-no belongs to a chain

//IDs
'GAID': {{cid}}, //Google Analytics client ID (userId/_gid)
'GUID': {{DUAID}}, //global unique identifier - Long lived UUID specific to a device and user agent. This is the value of the DUAID cookie in BEX, the guid cookie for HCOM and the hav cookie for Vrbo (DUAID)
'JSessionID': {{JSESSIONID}}, //J Session ID
'EPCsessionID': {{EPCSession}}, //a common key between native app events and app-hosted reactive web-views (JSESSIONID)
'MarketoID': {{_mkto_trk}}, //ID assigned by Marketo (_mkto_trk)
'XDID': {{XDID}}, //gives us the ability to track visitors/users across pretty much all EG sites eventually (xdid)
'JoinID: {{JOIN_ID}}, //Join ID (JOIN_ID)
'joinExperimentID': {{JOIN_EXPERIMENT_ID}}, //Join experiment ID (JOIN_EXPERIMENT_ID)
'languageID': {{languageID}}, //language ID selected (UnoLangId/UnoLangId)
'PropertyID': {{VSUPID}}, //Expedia ID if available in cookies (VSUPID)


//User
'onBoarding': {{isOnboarding}}, //false/true
'internalUser': {{isInternalUser}}, //internal user
'isAutomatedUser': {{isAutomatedUser}} //automated user

});

</script>

//First GTM Container snippet

...

</head>

<body>

//Second GTM Container snippet

...

</body>
